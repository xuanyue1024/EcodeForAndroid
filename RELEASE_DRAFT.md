# GitHub Release è‰ç¨¿

## å‘å¸ƒä¿¡æ¯

**æ ‡ç­¾åç§° (Tag)**: `v1.0.0-preview`  
**å‘å¸ƒæ ‡é¢˜ (Release Title)**: `Ecode v1.0.0-preview - é¦–ä¸ªé¢„è§ˆç‰ˆæœ¬`  
**ç›®æ ‡åˆ†æ”¯ (Target)**: `main` æˆ–å½“å‰ä¸»åˆ†æ”¯  
**å‘å¸ƒç±»å‹**: âœ… é¢„å‘å¸ƒç‰ˆæœ¬ (Pre-release)  

---

## å‘å¸ƒè¯´æ˜ (Release Description)

```markdown
# ğŸ‰ Ecode v1.0.0-preview

è¿™æ˜¯ Ecode Android åº”ç”¨çš„é¦–ä¸ªé¢„è§ˆç‰ˆæœ¬ï¼æ„Ÿè°¢æ‚¨çš„å…³æ³¨å’Œæ”¯æŒã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

### ç”¨æˆ·è®¤è¯
- âœ… ç”¨æˆ·å/å¯†ç ç™»å½•
- âœ… MD5 å¯†ç åŠ å¯†
- âœ… éªŒè¯ç æ”¯æŒ
- âœ… Token è‡ªåŠ¨ä¿æŒç™»å½•
- âœ… è‡ªå®šä¹‰æœåŠ¡å™¨åœ°å€é…ç½®

### æ™ºèƒ½æ‰«ç 
- âœ… äºŒç»´ç /æ¡å½¢ç æ‰«æ (åŸºäº Google ML Kit)
- âœ… CameraX ç›¸æœºé›†æˆ
- âœ… å®æ—¶æ‰«ç é¢„è§ˆ
- âœ… æ‰«ç ç»“æœç¡®è®¤ä¸æäº¤

### ç”¨æˆ·ä¿¡æ¯
- âœ… ç”¨æˆ·è¯¦æƒ…å±•ç¤º
- âœ… WebView é›†æˆ
- âœ… å®‰å…¨é€€å‡ºç™»å½•

## ğŸ›  æŠ€æœ¯æ ˆ

- **Min SDK**: Android 8.0 (API 26)
- **Target SDK**: Android 14 (API 35)
- **æ ¸å¿ƒåº“**: OkHttp 4.12.0, FastJSON2 2.0.43, ML Kit, CameraX 1.3.1, Glide 4.16.0

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- Android 8.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- æ‘„åƒå¤´ï¼ˆæ‰«ç åŠŸèƒ½ï¼‰
- ç½‘ç»œè¿æ¥

## ğŸ“¦ å®‰è£…è¯´æ˜

1. ä¸‹è½½ä¸‹æ–¹çš„ `app-release.apk` æ–‡ä»¶
2. åœ¨ Android è®¾å¤‡ä¸Šå¯ç”¨"æœªçŸ¥æ¥æº"å®‰è£…
3. ç‚¹å‡»å®‰è£…
4. æˆäºˆç›¸æœºå’Œç½‘ç»œæƒé™

## âš ï¸ å·²çŸ¥é™åˆ¶

- å½“å‰ä¸ºé¢„è§ˆç‰ˆæœ¬ï¼Œå¯èƒ½å­˜åœ¨æœªçŸ¥ bug
- å¼€å‘æ¨¡å¼ä¸‹ä¿¡ä»»æ‰€æœ‰ SSL è¯ä¹¦ï¼ˆç”Ÿäº§ç¯å¢ƒéœ€é…ç½®ï¼‰
- ä»…æ”¯æŒ Android 8.0+

## ğŸ“ å®Œæ•´è¯´æ˜

è¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹ï¼š
- [CHANGELOG.md](./CHANGELOG.md)
- [RELEASE_NOTES.md](./RELEASE_NOTES.md)

## ğŸ”® ä¸‹ä¸€æ­¥è®¡åˆ’

- ç”Ÿç‰©è¯†åˆ«ç™»å½•
- æ‰«ç å†å²è®°å½•
- å¤šè¯­è¨€æ”¯æŒ
- æš—é»‘æ¨¡å¼ä¼˜åŒ–

---

**âš ï¸ é‡è¦æç¤º**: è¿™æ˜¯é¢„è§ˆç‰ˆæœ¬ï¼Œå»ºè®®ä»…åœ¨æµ‹è¯•ç¯å¢ƒä¸­ä½¿ç”¨ã€‚
```

---

## å‘å¸ƒèµ„äº§ (Release Assets)

éœ€è¦ä¸Šä¼ ä»¥ä¸‹æ–‡ä»¶ï¼š

1. **app-release.apk** (å¿…éœ€)
   - ä½ç½®: `app/build/outputs/apk/release/app-release.apk`
   - è¯´æ˜: Android å®‰è£…åŒ…
   - æ–‡ä»¶å¤§å°: çº¦ 10-20 MB

2. **app-release-unsigned.apk** (å¯é€‰)
   - ä½ç½®: `app/build/outputs/apk/release/app-release-unsigned.apk`
   - è¯´æ˜: æœªç­¾åçš„ APKï¼ˆå¦‚æœå­˜åœ¨ï¼‰

3. **CHANGELOG.md** (æ¨è)
   - é™„åŠ æ›´æ–°æ—¥å¿—æ–‡ä»¶

4. **RELEASE_NOTES.md** (æ¨è)
   - é™„åŠ å®Œæ•´å‘å¸ƒè¯´æ˜

---

## åˆ›å»ºæ­¥éª¤

### æ–¹å¼ 1: GitHub Web ç•Œé¢

1. è®¿é—®ä»“åº“é¡µé¢: https://github.com/xuanyue1024/EcodeForAndroid
2. ç‚¹å‡»å³ä¾§çš„ "Releases" 
3. ç‚¹å‡» "Draft a new release"
4. å¡«å†™ä»¥ä¸‹ä¿¡æ¯:
   - **Choose a tag**: è¾“å…¥ `v1.0.0-preview` (æ–°å»ºæ ‡ç­¾)
   - **Release title**: è¾“å…¥ `Ecode v1.0.0-preview - é¦–ä¸ªé¢„è§ˆç‰ˆæœ¬`
   - **Description**: å¤åˆ¶ä¸Šé¢çš„"å‘å¸ƒè¯´æ˜"å†…å®¹
   - **Attach binaries**: æ‹–æ‹½æˆ–é€‰æ‹© `app-release.apk` æ–‡ä»¶
   - âœ… å‹¾é€‰ "This is a pre-release"
5. ç‚¹å‡» "Save draft" ä¿å­˜è‰ç¨¿
6. æˆ–ç‚¹å‡» "Publish release" ç›´æ¥å‘å¸ƒ

### æ–¹å¼ 2: GitHub CLI (gh)

```bash
# 1. åˆ›å»ºæ ‡ç­¾
git tag -a v1.0.0-preview -m "Release v1.0.0-preview"
git push origin v1.0.0-preview

# 2. åˆ›å»ºå‘å¸ƒè‰ç¨¿
gh release create v1.0.0-preview \
  --title "Ecode v1.0.0-preview - é¦–ä¸ªé¢„è§ˆç‰ˆæœ¬" \
  --notes-file RELEASE_NOTES.md \
  --prerelease \
  --draft \
  app/build/outputs/apk/release/app-release.apk

# 3. æŸ¥çœ‹è‰ç¨¿
gh release list

# 4. å‘å¸ƒ (ç¡®è®¤æ— è¯¯å)
gh release edit v1.0.0-preview --draft=false
```

### æ–¹å¼ 3: Git + GitHub API

```bash
# åˆ›å»ºæ ‡ç­¾
git tag v1.0.0-preview
git push origin v1.0.0-preview

# ä½¿ç”¨ GitHub API åˆ›å»º Release
# (éœ€è¦ GitHub Personal Access Token)
```

---

## æ„å»º APK å‘½ä»¤

åœ¨å‘å¸ƒå‰éœ€è¦å…ˆæ„å»º APK:

```bash
# ç¡®ä¿ gradlew æœ‰æ‰§è¡Œæƒé™
chmod +x gradlew

# æ¸…ç†æ„å»º
./gradlew clean

# æ„å»º Release APK
./gradlew assembleRelease

# APK è¾“å‡ºä½ç½®
ls -lh app/build/outputs/apk/release/
```

---

## å‘å¸ƒæ£€æŸ¥æ¸…å•

- [ ] ä»£ç å·²åˆå¹¶åˆ°ä¸»åˆ†æ”¯
- [ ] ç‰ˆæœ¬å·å·²æ›´æ–° (app/build.gradle: versionName)
- [ ] CHANGELOG.md å·²æ›´æ–°
- [ ] RELEASE_NOTES.md å·²åˆ›å»º
- [ ] APK å·²æˆåŠŸæ„å»º
- [ ] APK å·²æµ‹è¯•å®‰è£…å’Œè¿è¡Œ
- [ ] Release è‰ç¨¿å·²åˆ›å»º
- [ ] Release èµ„äº§å·²ä¸Šä¼  (APK)
- [ ] Release è¯´æ˜å·²å¡«å†™
- [ ] å·²æ ‡è®°ä¸ºé¢„å‘å¸ƒç‰ˆæœ¬
- [ ] å›¢é˜Ÿæˆå‘˜å·²å®¡æ ¸
- [ ] æœ€ç»ˆå‘å¸ƒ

---

## åç»­æ­¥éª¤

1. **æ„å»º APK**: ç”±äºç½‘ç»œé™åˆ¶ï¼Œéœ€è¦åœ¨æœ¬åœ°ç¯å¢ƒæ„å»º
   ```bash
   ./gradlew assembleRelease
   ```

2. **æµ‹è¯• APK**: åœ¨å®é™…è®¾å¤‡ä¸Šå®‰è£…æµ‹è¯•

3. **åˆ›å»º Release**: ä½¿ç”¨ GitHub Web ç•Œé¢æˆ– CLI åˆ›å»ºå‘å¸ƒè‰ç¨¿

4. **ä¸Šä¼  APK**: å°†æ„å»ºå¥½çš„ APK é™„åŠ åˆ° Release

5. **å‘å¸ƒ**: æ£€æŸ¥æ— è¯¯åå‘å¸ƒ

---

## æ³¨æ„äº‹é¡¹

âš ï¸ **ç­¾åè¯´æ˜**: 
- Debug APK ä½¿ç”¨é»˜è®¤ç­¾å
- Release APK å»ºè®®é…ç½®æ­£å¼ç­¾åå¯†é’¥
- é…ç½®ä½ç½®: `app/build.gradle` çš„ `signingConfigs`

âš ï¸ **ç‰ˆæœ¬ç®¡ç†**:
- éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ (Semantic Versioning)
- æ ¼å¼: `major.minor.patch-suffix`
- å½“å‰: `1.0.0-preview`

âš ï¸ **å®‰å…¨æé†’**:
- ä¸è¦åœ¨ Git ä¸­æäº¤ç­¾åå¯†é’¥æ–‡ä»¶
- ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–åŠ å¯†å­˜å‚¨ç®¡ç†å¯†é’¥
- ç”Ÿäº§ç‰ˆæœ¬éœ€é…ç½® ProGuard æ··æ·†
